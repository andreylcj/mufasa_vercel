{"ast":null,"code":"import dbConnect from '../../../assets/utils/dbConenect.js';\nimport Model from '../../../assets/models/Model';\ndbConnect();\nexport default (async (req, res) => {\n  const {\n    query: {\n      id\n    },\n    method\n  } = req;\n\n  switch (method) {\n    case 'GET':\n      try {\n        const user = await Model.findById(id);\n\n        if (!user) {\n          return res.status(400).json({\n            succes: false\n          });\n        }\n\n        res.status(200).json({\n          succes: true,\n          data: user\n        });\n      } catch (error) {\n        res.status(400).json({\n          succes: false\n        });\n      }\n\n      break;\n\n    case 'PUT':\n      try {\n        const user = await Model.findByIdAndUpdate(id, req, body, {\n          new: true,\n          runValidators: true\n        });\n\n        if (!user) {\n          return res.status(400).json({\n            succes: false\n          });\n        }\n\n        res.status(200).json({\n          succes: true,\n          data: user\n        });\n      } catch (error) {\n        return res.status(400).json({\n          succes: false\n        });\n      }\n\n      break;\n  }\n});","map":{"version":3,"sources":["C:/Users/gusta/Pessoal/Mufasa/mufasa_vercel/pages/api/userm/[id].js"],"names":["dbConnect","Model","req","res","query","id","method","user","findById","status","json","succes","data","error","findByIdAndUpdate","body","new","runValidators"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,qCAAtB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AAEAD,SAAS;AAET,gBAAe,OAAOE,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,QAAM;AACFC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF,KADL;AAEFC,IAAAA;AAFE,MAIFJ,GAJJ;;AAKA,UAAQI,MAAR;AACI,SAAK,KAAL;AACI,UAAI;AACA,cAAMC,IAAI,GAAG,MAAMN,KAAK,CAACO,QAAN,CAAeH,EAAf,CAAnB;;AAEA,YAAI,CAACE,IAAL,EAAW;AACP,iBAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,YAAAA,MAAM,EAAE;AAAT,WAArB,CAAP;AAEH;;AAEDR,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,MAAM,EAAE,IAAT;AAAeC,UAAAA,IAAI,EAAEL;AAArB,SAArB;AACH,OATD,CASC,OAAMM,KAAN,EAAY;AACTV,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,MAAM,EAAE;AAAT,SAArB;AACH;;AACD;;AACJ,SAAK,KAAL;AACI,UAAI;AACA,cAAMJ,IAAI,GAAG,MAAMN,KAAK,CAACa,iBAAN,CAAwBT,EAAxB,EAA4BH,GAA5B,EAAiCa,IAAjC,EAAuC;AACtDC,UAAAA,GAAG,EAAC,IADkD;AAEtDC,UAAAA,aAAa,EAAC;AAFwC,SAAvC,CAAnB;;AAIA,YAAI,CAACV,IAAL,EAAW;AACP,iBAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,YAAAA,MAAM,EAAE;AAAT,WAArB,CAAP;AAEH;;AACDR,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,MAAM,EAAE,IAAT;AAAeC,UAAAA,IAAI,EAAEL;AAArB,SAArB;AACH,OAVD,CAUE,OAAOM,KAAP,EAAc;AACZ,eAAOV,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,MAAM,EAAE;AAAT,SAArB,CAAP;AACH;;AACD;AA7BR;AAgCH,CAtCD","sourcesContent":["import dbConnect from '../../../assets/utils/dbConenect.js'\r\nimport Model from '../../../assets/models/Model'\r\n\r\ndbConnect();\r\n\r\nexport default async (req, res) => {\r\n    const {\r\n        query: { id },\r\n        method\r\n    \r\n    } = req;\r\n    switch (method){\r\n        case 'GET':\r\n            try {\r\n                const user = await Model.findById(id);\r\n\r\n                if (!user) {\r\n                    return res.status(400).json({succes: false})\r\n            \r\n                }\r\n\r\n                res.status(200).json({succes: true, data: user})\r\n            }catch(error){\r\n                res.status(400).json({succes: false})\r\n            }\r\n            break;\r\n        case 'PUT':\r\n            try {\r\n                const user = await Model.findByIdAndUpdate(id, req, body, {\r\n                    new:true,\r\n                    runValidators:true\r\n                })\r\n                if (!user) {\r\n                    return res.status(400).json({succes: false})\r\n            \r\n                }\r\n                res.status(200).json({succes: true, data: user})\r\n            } catch (error) {\r\n                return res.status(400).json({succes: false})\r\n            }\r\n            break;\r\n            \r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}