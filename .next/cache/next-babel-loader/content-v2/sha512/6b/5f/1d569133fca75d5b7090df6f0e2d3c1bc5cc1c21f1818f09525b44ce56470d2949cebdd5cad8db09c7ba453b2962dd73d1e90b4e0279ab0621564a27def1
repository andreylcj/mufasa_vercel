{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\gusta\\\\Pessoal\\\\Mufasa\\\\mufasa_vercel\\\\pages\\\\bend-admin\\\\users\\\\index.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { DataContext } from '../../../store/GlobalState';\nimport GoBackButton from '../../../snnipets/GoBackButton'; // import BendFilterUsers from '../../../snnipets/BendFilterUsers';\n// import { getData } from '../../../assets/utils/fetchData';\n\nfunction Users() {\n  const router = useRouter();\n  const {\n    query\n  } = router; // const role = query.role || 'all';\n  // const search = query.search || 'all';\n  // const sort = query.sort || '';\n\n  const {\n    0: state,\n    1: dispatch\n  } = useContext(DataContext);\n  const {\n    users,\n    auth\n  } = state;\n  const {\n    0: usersFiltered,\n    1: setUsersFiltered\n  } = useState([]);\n  useEffect(async () => {\n    /* if (!auth.token) return;\r\n      const res = await getData(\r\n      `api/user?role=${role}&sort=${sort}&search=${search}`,\r\n      auth.token,\r\n    );\r\n      console.log(res);\r\n      setUsersFiltered(res.users); */\n    setUsersFiltered(users); // }, [auth, router.query])\n  }, [auth, users, query]); // jQuery ==============\n\n  useEffect(() => {\n    if (!usersFiltered.length || !auth.user) return; // jQuery ==============\n    // eslint-disable-next-line no-undef\n\n    $('#usersTable').DataTable();\n  }, [usersFiltered, auth]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-responsive\",\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Usu\\xE1rios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GoBackButton, {\n      url: \"/bend-admin/home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"w-100 table\",\n      id: \"usersTable\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), auth.user && auth.user.role === 'master admin' ? /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 31\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: usersFiltered.map((user, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: index + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: user._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: user.admin ? user.role === 'master admin' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check text-success\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"font\", {\n                className: \"text-success\",\n                children: \" Master Admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-check text-success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times text-danger\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), auth.user && auth.user.role === 'master admin' ? auth.user.email !== user.email ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"th\", {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                href: `/bend-admin/users/edit-user/${user._id}`,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-edit text-info mr-2\",\n                    title: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 52\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-trash-alt text-danger ms-2\",\n                title: \"Remove\",\n                \"data-bs-toggle\": \"modal\",\n                \"data-bs-target\": \"#exampleModal\",\n                style: {\n                  cursor: 'pointer'\n                },\n                onClick: () => {\n                  dispatch({\n                    type: 'ADD_MODAL',\n                    payload: {\n                      data: users,\n                      title: user.email,\n                      id: user._id,\n                      type: 'ADD_USERS'\n                    }\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 45\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(\"th\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/bend-admin/myprofile\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-user text-dark mr-2\",\n                  title: \"My Profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 50\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 43\n          }, this) : null]\n        }, user._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\nexport default Users;","map":{"version":3,"sources":["C:/Users/gusta/Pessoal/Mufasa/mufasa_vercel/pages/bend-admin/users/index.js"],"names":["React","useContext","useEffect","useState","Head","Link","useRouter","DataContext","GoBackButton","Users","router","query","state","dispatch","users","auth","usersFiltered","setUsersFiltered","length","user","$","DataTable","role","map","index","_id","email","admin","cursor","type","payload","data","title","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,OAAOC,YAAP,MAAyB,gCAAzB,C,CACA;AACA;;AAEA,SAASC,KAAT,GAAiB;AACf,QAAMC,MAAM,GAAGJ,SAAS,EAAxB;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAYD,MAAlB,CAFe,CAIf;AACA;AACA;;AAEA,QAAM;AAAA,OAACE,KAAD;AAAA,OAAQC;AAAR,MAAoBZ,UAAU,CAACM,WAAD,CAApC;AACA,QAAM;AAAEO,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAkBH,KAAxB;AAEA,QAAM;AAAA,OAACI,aAAD;AAAA,OAAgBC;AAAhB,MAAoCd,QAAQ,CAAC,EAAD,CAAlD;AAEAD,EAAAA,SAAS,CAAC,YAAY;AACpB;AACJ;AACA;AACA;AACA;AACA;AACA;AAKIe,IAAAA,gBAAgB,CAACH,KAAD,CAAhB,CAZoB,CAcpB;AACD,GAfQ,EAeN,CAACC,IAAD,EAAOD,KAAP,EAAcH,KAAd,CAfM,CAAT,CAbe,CA8Bf;;AACAT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACc,aAAa,CAACE,MAAf,IAAyB,CAACH,IAAI,CAACI,IAAnC,EAAyC,OAD3B,CAGd;AACA;;AACAC,IAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBC,SAAjB;AACD,GANQ,EAMN,CAACL,aAAD,EAAgBD,IAAhB,CANM,CAAT;AAQA,sBAEE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA,4BACE,QAAC,IAAD;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAKE,QAAC,YAAD;AAAc,MAAA,GAAG,EAAC;AAAlB;AAAA;AAAA;AAAA;AAAA,YALF,eAWE;AAAO,MAAA,SAAS,EAAC,aAAjB;AAA+B,MAAA,EAAE,EAAC,YAAlC;AAAA,8BACE;AAAA,+BACE;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,EAMmBA,IAAI,CAACI,IAAL,IAAcJ,IAAI,CAACI,IAAL,CAAUG,IAAV,KAAmB,cAAlC,gBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,GAGE,IATpB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAgBE;AAAA,kBAEIN,aAAa,CAACO,GAAd,CAAkB,CAACJ,IAAD,EAAOK,KAAP,kBAChB;AAAA,kCACE;AAAA,sBAAKA,KAAK,GAAG;AAAb;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sBAAKL,IAAI,CAACM;AAAV;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAA,sBAAKN,IAAI,CAACO;AAAV;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAA,sBAEIP,IAAI,CAACQ,KAAL,GAEKR,IAAI,CAACG,IAAL,KAAc,cAAf,gBAEI;AAAA,sCACE;AAAG,gBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAM,gBAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA,4BAFJ,gBAOI;AAAG,cAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,oBATR,gBAYI;AAAG,cAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AAdR;AAAA;AAAA;AAAA;AAAA,kBAJF,EAuBuBP,IAAI,CAACI,IAAL,IAAcJ,IAAI,CAACI,IAAL,CAAUG,IAAV,KAAmB,cAAlC,GAEKP,IAAI,CAACI,IAAL,CAAUO,KAAV,KAAoBP,IAAI,CAACO,KAA1B,gBACE;AAAA,mCACE;AAAA,sCACE,QAAC,IAAD;AAAM,gBAAA,IAAI,EAAG,+BAA8BP,IAAI,CAACM,GAAI,EAApD;AAAA,uCACE;AAAA,yCAAG;AAAG,oBAAA,SAAS,EAAC,4BAAb;AAA0C,oBAAA,KAAK,EAAC;AAAhD;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAKE;AACE,gBAAA,SAAS,EAAC,mCADZ;AAEE,gBAAA,KAAK,EAAC,QAFR;AAGE,kCAAe,OAHjB;AAIE,kCAAe,eAJjB;AAKE,gBAAA,KAAK,EAAE;AAAEG,kBAAAA,MAAM,EAAE;AAAV,iBALT;AAME,gBAAA,OAAO,EAAE,MAAM;AACbf,kBAAAA,QAAQ,CAAC;AACPgB,oBAAAA,IAAI,EAAE,WADC;AAEPC,oBAAAA,OAAO,EAAE;AACPC,sBAAAA,IAAI,EAAEjB,KADC;AAEPkB,sBAAAA,KAAK,EAAEb,IAAI,CAACO,KAFL;AAGPO,sBAAAA,EAAE,EAAEd,IAAI,CAACM,GAHF;AAIPI,sBAAAA,IAAI,EAAE;AAJC;AAFF,mBAAD,CAAR;AASD;AAhBH;AAAA;AAAA;AAAA;AAAA,sBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,2BADF,gBA4BE;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,IAAI,EAAC,uBAAX;AAAA,qCACE;AAAA,uCAAG;AAAG,kBAAA,SAAS,EAAC,4BAAb;AAA0C,kBAAA,KAAK,EAAC;AAAhD;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBA9BN,GAqCI,IA5D1B;AAAA,WAASV,IAAI,CAACM,GAAd;AAAA;AAAA;AAAA;AAAA,gBADF;AAFJ;AAAA;AAAA;AAAA;AAAA,cAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAXF;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF;AAsGD;;AAED,eAAehB,KAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport Head from 'next/head';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\nimport { DataContext } from '../../../store/GlobalState';\r\nimport GoBackButton from '../../../snnipets/GoBackButton';\r\n// import BendFilterUsers from '../../../snnipets/BendFilterUsers';\r\n// import { getData } from '../../../assets/utils/fetchData';\r\n\r\nfunction Users() {\r\n  const router = useRouter();\r\n  const { query } = router;\r\n\r\n  // const role = query.role || 'all';\r\n  // const search = query.search || 'all';\r\n  // const sort = query.sort || '';\r\n\r\n  const [state, dispatch] = useContext(DataContext);\r\n  const { users, auth } = state;\r\n\r\n  const [usersFiltered, setUsersFiltered] = useState([]);\r\n\r\n  useEffect(async () => {\r\n    /* if (!auth.token) return;\r\n\r\n    const res = await getData(\r\n      `api/user?role=${role}&sort=${sort}&search=${search}`,\r\n      auth.token,\r\n    );\r\n\r\n    console.log(res);\r\n\r\n    setUsersFiltered(res.users); */\r\n\r\n    setUsersFiltered(users);\r\n\r\n    // }, [auth, router.query])\r\n  }, [auth, users, query]);\r\n\r\n  // jQuery ==============\r\n  useEffect(() => {\r\n    if (!usersFiltered.length || !auth.user) return;\r\n\r\n    // jQuery ==============\r\n    // eslint-disable-next-line no-undef\r\n    $('#usersTable').DataTable();\r\n  }, [usersFiltered, auth]);\r\n\r\n  return (\r\n\r\n    <div className=\"table-responsive\">\r\n      <Head>\r\n        <title>UsuÃ¡rios</title>\r\n      </Head>\r\n\r\n      <GoBackButton url=\"/bend-admin/home\" />\r\n\r\n      {/* <div className=\"mb-4\">\r\n        <BendFilterUsers state={state} />\r\n      </div> */}\r\n\r\n      <table className=\"w-100 table\" id=\"usersTable\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>ID</th>\r\n            <th>Email</th>\r\n            <th>Admin</th>\r\n            {\r\n                            (auth.user && (auth.user.role === 'master admin')) ? (\r\n                              <th>Action</th>\r\n                            ) : (\r\n                              null\r\n                            )\r\n                        }\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n            usersFiltered.map((user, index) => (\r\n              <tr key={user._id}>\r\n                <th>{index + 1}</th>\r\n                <th>{user._id}</th>\r\n                <th>{user.email}</th>\r\n                <th>\r\n                  {\r\n                    user.admin\r\n                      ? (\r\n                        (user.role === 'master admin')\r\n                          ? (\r\n                            <>\r\n                              <i className=\"fas fa-check text-success\" />\r\n                              <font className=\"text-success\"> Master Admin</font>\r\n                            </>\r\n                          ) : (\r\n                            <i className=\"fas fa-check text-success\" />\r\n                          )\r\n                      ) : (\r\n                        <i className=\"fas fa-times text-danger\" />\r\n                      )\r\n                  }\r\n                </th>\r\n                {\r\n                                    (auth.user && (auth.user.role === 'master admin'))\r\n                                      ? (\r\n                                        (auth.user.email !== user.email) ? (\r\n                                          <>\r\n                                            <th>\r\n                                              <Link href={`/bend-admin/users/edit-user/${user._id}`}>\r\n                                                <a><i className=\"fas fa-edit text-info mr-2\" title=\"Edit\" /></a>\r\n                                              </Link>\r\n\r\n                                              <i\r\n                                                className=\"fas fa-trash-alt text-danger ms-2\"\r\n                                                title=\"Remove\"\r\n                                                data-bs-toggle=\"modal\"\r\n                                                data-bs-target=\"#exampleModal\"\r\n                                                style={{ cursor: 'pointer' }}\r\n                                                onClick={() => {\r\n                                                  dispatch({\r\n                                                    type: 'ADD_MODAL',\r\n                                                    payload: {\r\n                                                      data: users,\r\n                                                      title: user.email,\r\n                                                      id: user._id,\r\n                                                      type: 'ADD_USERS',\r\n                                                    },\r\n                                                  });\r\n                                                }}\r\n                                              />\r\n                                            </th>\r\n                                          </>\r\n                                        ) : (\r\n                                          <th>\r\n                                            <Link href=\"/bend-admin/myprofile\">\r\n                                              <a><i className=\"fas fa-user text-dark mr-2\" title=\"My Profile\" /></a>\r\n                                            </Link>\r\n                                          </th>\r\n                                        )\r\n                                      ) : (\r\n                                        null\r\n                                      )\r\n                                }\r\n              </tr>\r\n            ))\r\n                    }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n"]},"metadata":{},"sourceType":"module"}