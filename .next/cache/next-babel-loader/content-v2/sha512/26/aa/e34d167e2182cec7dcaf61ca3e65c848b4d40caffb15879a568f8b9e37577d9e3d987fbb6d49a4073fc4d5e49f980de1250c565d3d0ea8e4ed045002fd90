{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\gusta\\\\Pessoal\\\\Mufasa\\\\mufasa_vercel\\\\pages\\\\bend-admin\\\\home\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport Link from 'next/link';\nimport Cookie from 'js-cookie';\nimport { useRouter } from 'next/router';\nimport { DataContext } from '../../../store/GlobalState';\nimport { ACTION } from '../../../store/Actions';\n\nfunction Home() {\n  _s();\n\n  var _this = this;\n\n  var _useContext = useContext(DataContext),\n      state = _useContext[0],\n      dispatch = _useContext[1];\n\n  var auth = state.auth;\n\n  var handleLogout = function handleLogout() {\n    Cookie.remove('refreshToken', {\n      path: '/api/auth/accessToken'\n    });\n    localStorage.removeItem('firstLogin');\n    dispatch({\n      type: ACTION.AUTH,\n      payload: {}\n    });\n  };\n\n  var loggedRouter = function loggedRouter() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto my-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Bem vindo,\", auth.user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }, _this);\n  };\n\n  var router = useRouter();\n  useEffect(function () {\n    if (Object.keys(auth).length === 0) {\n      router.push('/bend-admin/');\n    } else if (Object.keys(auth).length !== 0 && !auth.user.admin) {\n      router.push('/bend-admin/denied-access');\n    }\n  }, [auth]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mx-auto my-4\",\n      children: \"ADMIN HOME\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/bend-admin/my-profile\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"mx-auto my-3\",\n        children: \"Meu Perfil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 43\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/bend-admin/users\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"mx-auto my-3\",\n        children: \"Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 38\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), Object.keys(auth).length === 0 ? '' : loggedRouter()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"9NqhZoJrjE83F8ET1jJPfHAij8E=\", false, function () {\n  return [useRouter];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/gusta/Pessoal/Mufasa/mufasa_vercel/pages/bend-admin/home/index.js"],"names":["React","useContext","useEffect","Link","Cookie","useRouter","DataContext","ACTION","Home","state","dispatch","auth","handleLogout","remove","path","localStorage","removeItem","type","AUTH","payload","loggedRouter","user","email","router","Object","keys","length","push","admin"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,MAAT,QAAuB,wBAAvB;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AAAA;;AAAA,oBACYP,UAAU,CAACK,WAAD,CADtB;AAAA,MACPG,KADO;AAAA,MACAC,QADA;;AAAA,MAENC,IAFM,GAEGF,KAFH,CAENE,IAFM;;AAId,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBR,IAAAA,MAAM,CAACS,MAAP,CAAc,cAAd,EAA8B;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAA9B;AACAC,IAAAA,YAAY,CAACC,UAAb,CAAwB,YAAxB;AACAN,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAEV,MAAM,CAACW,IADN;AAEPC,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID,GAPD;;AASA,MAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,wBACnB;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACE;AAAA,iCAEGT,IAAI,CAACU,IAAL,CAAUC,KAFb;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAKE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAEV,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF;AAAA;AAAA;AAAA;AAAA;AAAA,aADmB;AAAA,GAArB;;AAUA,MAAMW,MAAM,GAAGlB,SAAS,EAAxB;AAEAH,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIsB,MAAM,CAACC,IAAP,CAAYd,IAAZ,EAAkBe,MAAlB,KAA6B,CAAjC,EAAoC;AAClCH,MAAAA,MAAM,CAACI,IAAP,CAAY,cAAZ;AACD,KAFD,MAEO,IAAIH,MAAM,CAACC,IAAP,CAAYd,IAAZ,EAAkBe,MAAlB,KAA6B,CAA7B,IAAkC,CAACf,IAAI,CAACU,IAAL,CAAUO,KAAjD,EAAwD;AAC7DL,MAAAA,MAAM,CAACI,IAAP,CAAY,2BAAZ;AACD;AACF,GANQ,EAMN,CAAChB,IAAD,CANM,CAAT;AAQA,sBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA,4BACE;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC,wBAAX;AAAA,6BAAoC;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAApC;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC,mBAAX;AAAA,6BAA+B;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA/B;AAAA;AAAA;AAAA;AAAA,YAHF,EAMYa,MAAM,CAACC,IAAP,CAAYd,IAAZ,EAAkBe,MAAlB,KAA6B,CAA7B,GAEI,EAFJ,GAIIN,YAAY,EAV5B;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkBD;;GAnDQZ,I;UAuBQH,S;;;KAvBRG,I;AAqDT,eAAeA,IAAf","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport Cookie from 'js-cookie';\r\nimport { useRouter } from 'next/router';\r\nimport { DataContext } from '../../../store/GlobalState';\r\nimport { ACTION } from '../../../store/Actions';\r\n\r\nfunction Home() {\r\n  const [state, dispatch] = useContext(DataContext);\r\n  const { auth } = state;\r\n\r\n  const handleLogout = () => {\r\n    Cookie.remove('refreshToken', { path: '/api/auth/accessToken' });\r\n    localStorage.removeItem('firstLogin');\r\n    dispatch({\r\n      type: ACTION.AUTH,\r\n      payload: {},\r\n    });\r\n  };\r\n\r\n  const loggedRouter = () => (\r\n    <div className=\"mx-auto my-4\">\r\n      <p>\r\n        Bem vindo,\r\n        {auth.user.email}\r\n      </p>\r\n      <button type=\"submit\" onClick={handleLogout}>Logout</button>\r\n    </div>\r\n  );\r\n\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(auth).length === 0) {\r\n      router.push('/bend-admin/');\r\n    } else if (Object.keys(auth).length !== 0 && !auth.user.admin) {\r\n      router.push('/bend-admin/denied-access');\r\n    }\r\n  }, [auth]);\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column\">\r\n      <p className=\"mx-auto my-4\">ADMIN HOME</p>\r\n      <Link href=\"/bend-admin/my-profile\"><a className=\"mx-auto my-3\">Meu Perfil</a></Link>\r\n      <Link href=\"/bend-admin/users\"><a className=\"mx-auto my-3\">Users</a></Link>\r\n\r\n      {\r\n                Object.keys(auth).length === 0\r\n                  ? (\r\n                    ''\r\n                  ) : (\r\n                    loggedRouter()\r\n                  )\r\n            }\r\n\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}