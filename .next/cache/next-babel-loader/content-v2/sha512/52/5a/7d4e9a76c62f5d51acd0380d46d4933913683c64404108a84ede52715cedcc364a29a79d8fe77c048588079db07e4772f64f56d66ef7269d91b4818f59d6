{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\gusta\\\\Pessoal\\\\Mufasa\\\\mufasa_vercel\\\\pages\\\\bend-admin\\\\home\\\\index.js\";\nimport React, { useContext, useEffect } from 'react';\nimport Link from 'next/link';\nimport { DataContext } from '../../../store/GlobalState';\nimport Cookie from 'js-cookie';\nimport { ACTION } from '../../../store/Actions';\nimport { useRouter } from 'next/router';\n\nfunction Home() {\n  const {\n    0: state,\n    1: dispatch\n  } = useContext(DataContext);\n  const {\n    auth\n  } = state;\n\n  const handleLogout = () => {\n    Cookie.remove('refreshToken', {\n      path: '/api/auth/accessToken'\n    });\n    localStorage.removeItem('firstLogin');\n    dispatch({\n      type: ACTION.AUTH,\n      payload: {}\n    });\n  };\n\n  const loggedRouter = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto my-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Bem vindo, \", auth.user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this);\n  };\n\n  const router = useRouter();\n  useEffect(() => {\n    if (Object.keys(auth).length === 0) {\n      router.push('/bend-admin/');\n    } else if (Object.keys(auth).length !== 0 && !auth.user.admin) {\n      router.push('/bend-admin/denied-access');\n    }\n  }, [auth]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mx-auto my-4\",\n      children: \"ADMIN HOME\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/bend-admin/my-profile\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"mx-auto my-3\",\n        children: \"Meu Perfil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 49\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      href: \"/bend-admin/users\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"mx-auto my-3\",\n        children: \"Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 44\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), Object.keys(auth).length === 0 ? '' : loggedRouter()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/gusta/Pessoal/Mufasa/mufasa_vercel/pages/bend-admin/home/index.js"],"names":["React","useContext","useEffect","Link","DataContext","Cookie","ACTION","useRouter","Home","state","dispatch","auth","handleLogout","remove","path","localStorage","removeItem","type","AUTH","payload","loggedRouter","user","email","router","Object","keys","length","push","admin"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,SAASC,IAAT,GAAgB;AAEZ,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBT,UAAU,CAACG,WAAD,CAApC;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAWF,KAAjB;;AAEA,QAAMG,YAAY,GAAG,MAAM;AACvBP,IAAAA,MAAM,CAACQ,MAAP,CAAc,cAAd,EAA8B;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAA9B;AACAC,IAAAA,YAAY,CAACC,UAAb,CAAwB,YAAxB;AACAN,IAAAA,QAAQ,CAAC;AACLO,MAAAA,IAAI,EAAEX,MAAM,CAACY,IADR;AAELC,MAAAA,OAAO,EAAE;AAFJ,KAAD,CAAR;AAIH,GAPD;;AASA,QAAMC,YAAY,GAAG,MAAM;AACvB,wBACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACI;AAAA,kCAAeT,IAAI,CAACU,IAAL,CAAUC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,OAAO,EAAEV,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAMH,GAPD;;AASA,QAAMW,MAAM,GAAGhB,SAAS,EAAxB;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIsB,MAAM,CAACC,IAAP,CAAYd,IAAZ,EAAkBe,MAAlB,KAA6B,CAAjC,EAAoC;AAChCH,MAAAA,MAAM,CAACI,IAAP,CAAY,cAAZ;AACH,KAFD,MAEO,IAAIH,MAAM,CAACC,IAAP,CAAYd,IAAZ,EAAkBe,MAAlB,KAA6B,CAA7B,IAAkC,CAACf,IAAI,CAACU,IAAL,CAAUO,KAAjD,EAAwD;AAC3DL,MAAAA,MAAM,CAACI,IAAP,CAAY,2BAAZ;AACH;AAEJ,GAPQ,EAON,CAAChB,IAAD,CAPM,CAAT;AASA,sBACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA,4BACI;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC,wBAAX;AAAA,6BAAoC;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAApC;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC,mBAAX;AAAA,6BAA+B;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA/B;AAAA;AAAA;AAAA;AAAA,YAHJ,EAMQa,MAAM,CAACC,IAAP,CAAYd,IAAZ,EAAkBe,MAAlB,KAA6B,CAA7B,GAEQ,EAFR,GAIQN,YAAY,EAV5B;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAkBH;;AAED,eAAeZ,IAAf","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { DataContext } from '../../../store/GlobalState';\r\nimport Cookie from 'js-cookie'\r\nimport { ACTION } from '../../../store/Actions';\r\nimport { useRouter } from 'next/router'\r\n\r\nfunction Home() {\r\n\r\n    const [state, dispatch] = useContext(DataContext);\r\n    const { auth } = state\r\n\r\n    const handleLogout = () => {\r\n        Cookie.remove('refreshToken', { path: '/api/auth/accessToken' })\r\n        localStorage.removeItem('firstLogin')\r\n        dispatch({\r\n            type: ACTION.AUTH,\r\n            payload: {},\r\n        })\r\n    }\r\n\r\n    const loggedRouter = () => {\r\n        return (\r\n            <div className=\"mx-auto my-4\">\r\n                <p>Bem vindo, {auth.user.email}</p>\r\n                <button onClick={handleLogout}>Logout</button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const router = useRouter()\r\n\r\n    useEffect(() => {\r\n        if (Object.keys(auth).length === 0) {\r\n            router.push('/bend-admin/')\r\n        } else if (Object.keys(auth).length !== 0 && !auth.user.admin) {\r\n            router.push('/bend-admin/denied-access')\r\n        }\r\n\r\n    }, [auth])\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column\">\r\n            <p className=\"mx-auto my-4\">ADMIN HOME</p>\r\n            <Link href=\"/bend-admin/my-profile\"><a className=\"mx-auto my-3\">Meu Perfil</a></Link>\r\n            <Link href=\"/bend-admin/users\"><a className=\"mx-auto my-3\">Users</a></Link>\r\n\r\n            {\r\n                Object.keys(auth).length === 0 ?\r\n                    (\r\n                        ''\r\n                    ) : (\r\n                        loggedRouter()\r\n                    )\r\n            }\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}